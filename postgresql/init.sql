
-- n8n
DROP DATABASE IF EXISTS n8n;
DROP USER IF EXISTS n8n_user;
CREATE DATABASE n8n;
CREATE USER n8n_user WITH ENCRYPTED PASSWORD 'n8nBioCentra2025!!';
GRANT ALL PRIVILEGES ON DATABASE n8n TO n8n_user;
GRANT USAGE ON SCHEMA public TO n8n_user;
GRANT CREATE ON SCHEMA public TO n8n_user;
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT ALL ON TABLES TO n8n_user;

-- calcom
DROP DATABASE IF EXISTS calcom;
DROP USER IF EXISTS calcom_user;
CREATE DATABASE calcom;
CREATE USER calcom_user WITH ENCRYPTED PASSWORD 'calcomBioCentra2025!!';
GRANT ALL PRIVILEGES ON DATABASE calcom TO calcom_user;
GRANT USAGE ON SCHEMA public TO calcom_user;
GRANT CREATE ON SCHEMA public TO calcom_user;
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT ALL ON TABLES TO calcom_user;

-- twenty (optional)
DROP DATABASE IF EXISTS twenty;
DROP USER IF EXISTS twenty_user;
CREATE DATABASE twenty;
CREATE USER twenty_user WITH ENCRYPTED PASSWORD 'twentyBioCentra2025!!';
GRANT ALL PRIVILEGES ON DATABASE twenty TO twenty_user;
GRANT USAGE ON SCHEMA public TO twenty_user;
GRANT CREATE ON SCHEMA public TO twenty_user;
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT ALL ON TABLES TO twenty_user;

-- plane
DROP DATABASE IF EXISTS plane;
DROP USER IF EXISTS plane_user;
CREATE DATABASE plane;
CREATE USER plane_user WITH ENCRYPTED PASSWORD 'planeBioCentra2025!!';
GRANT ALL PRIVILEGES ON DATABASE plane TO plane_user;